!function($){"use strict";var c=$(document);c.ready(function(){var e=$("#cv-background-preview"),a=$("#cv-background-fullscreen-preview");e.find(".view-full-preview").on({mouseenter:function(){$("html").addClass("cv-background-preview-active"),a.attr("style",e.attr("style")),"150px"===a.css("background-size")&&a.css("background-size","auto")},mouseleave:function(){$("html").removeClass("cv-background-preview-active"),a.removeAttr("style")}}),$(".background-preset-option").on("click",function(){var c=$(this);$("#cv-bg-preset-attachment-wrap").slideDown(),e.removeClass("is-custom").removeAttr("style").css({backgroundImage:"url("+c.data("pattern")+")",backgroundAttachment:$("#cv-bg-preset-attachment").val(),backgroundRepeat:"repeat"})}),$("#cv-bg-preset-attachment").on("change",function(){e.css({backgroundAttachment:$(this).val()})}),$(".wp-color-picker").each(function(){var a=$(this);a.iris({mode:"hsl",hide:!1,change:function(c,a){var t=$(c.target),o=a.color.toString();t.css("background-color",o),e.css("background-color",o)}}).css("background-color",a.val()),a.next().wrap('<div class="cv-picker-wrap" style="display:none;"></div>');var t=a.next();a.on("click",function(c){c.stopImmediatePropagation(),t.slideToggle()}),c.on("click",function(){t.slideUp()})}),$("#cv-bg-image").on("change keyup",function(){var c=$(this),a=$("#cv-bg-style-wrap");e.css("background-image","url("+c.val()+")"),c.val()?a.fadeIn():a.fadeOut().find("select").val("cover").trigger("change")}),$("#cv-bg-repeat").on("change",function(){e.css("background-repeat",$(this).val())}),$("#cv-bg-position").on("change",function(){e.css("background-position",$(this).val())}),$("#cv-bg-custom-attachment").on("change",function(){e.css("background-attachment",$(this).val())}),$("#cv-bg-style").on("change",function(){e.removeAttr("style").css({backgroundImage:"url("+$("#cv-bg-image").val()+")",backgroundColor:$("#cv-bg-color").val()}),"tile"===$(this).val()?(e.css({backgroundSize:"150px",backgroundRepeat:$("#cv-bg-repeat").val(),backgroundPosition:$("#cv-bg-position").val(),backgroundAttachment:$("#cv-bg-custom-attachment").val()}),$("#cv-bg-custom-advanced-controls").slideDown()):(e.css({backgroundSize:"cover",backgroundAttachment:"fixed"}),$("#cv-bg-custom-advanced-controls").slideUp())}),$("#cv-background-upload").on("click",function(c){var e=$("#cv-bg-image");c.stopImmediatePropagation();var a=wp.media({title:"Select an Image",button:{text:"Use This Image"},library:{type:"image"},multiple:!1});a.on("select",function(){var c=a.state().get("selection").first().toJSON(),t=c.url;e.val(t).trigger("change")}),a.open()}),$("#cv-background-tabs").children().on("click",function(){var c=$(this),a=c.data("source");c.addClass("nav-tab-active").siblings().removeClass("nav-tab-active"),$("#cv-"+a+"-pane").show().siblings().hide(),"custom"===a&&($("#cv-bg-source-custom").prop("checked",!0),$("#cv-bg-preset-attachment-wrap").slideUp(),e.addClass("is-custom").removeAttr("style").css({backgroundColor:$("#cv-bg-color").val()}),$("#cv-bg-image").val()&&(e.css("background-image","url("+$("#cv-bg-image").val()+")"),e.css("tile"===$("#cv-bg-style").val()?{backgroundSize:"150px",backgroundRepeat:$("#cv-bg-repeat").val(),backgroundPosition:$("#cv-bg-position").val(),backgroundAttachment:$("#cv-bg-custom-attachment").val()}:{backgroundSize:"cover",backgroundAttachment:"fixed"})))})})}(jQuery);