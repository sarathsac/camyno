var cv_preview_primary_bg=function(e,c,a){var s=e.find("#cv-preview-"+c);s.css("background-color",a)},cv_preview_secondary_bg=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".secondary-bg").css("background-color",a)},cv_preview_borders=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".border-color").css("border-color",a)},cv_preview_headers=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".header").css("color",a)},cv_preview_content=function(e,c,a){var s=e.find("#cv-preview-"+c);s.css("color",a)},cv_preview_secondary_content=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".secondary-content").css("color",a)},cv_preview_accent=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".accent").css("color",a)},cv_preview_focused=function(e,c,a){var s=e.find("#cv-preview-"+c);s.find(".focused").css("color",a)};!function($){"use strict";var e=$(document);e.ready(function(){var c=function(){var e={},c={};return c.header={},c.main={},c.alternate={},c.footer={},c.socket={},$(".cv-scheme-control").each(function(){var e=$(this),a=e.data("section"),s=e.data("option");c[a][s]=e.val()}),e.preset=$("#cv-scheme-presets").find("[name]:checked").val(),e.settings=c,e},a=function(e){$.each(e,function(e,c){var a=e;$.each(c,function(e,c){$('[name="cv_color_scheme[scheme]['+a+"]["+e+']"]').iris("color",c)})})},s=function(){var e=c();e=JSON.stringify(e);var a=$("#cv-scheme-history"),s=$('<div class="new-state">'+e+"</div>");a.children().length?(a.find(".active-state").removeClass("active-state").after(s),s.removeClass("new-state").addClass("active-state").nextAll().remove()):(s.removeClass("new-state").addClass("active-state"),a.append(s)),r()},t=function(e){$("#cv-scheme-option-"+e.preset).prop("checked",!0),$.each(e.settings,function(e,c){var a=e;$.each(c,function(e,c){$('[name="cv_color_scheme[scheme]['+a+"]["+e+']"]').iris("color",c)})}),r()},r=function(){var e=$("#cv-scheme-history");if(e.children().length){var c=e.find(".active-state");c.next().length?$("#cv-scheme-step-forward").removeClass("is-disabled"):$("#cv-scheme-step-forward").addClass("is-disabled"),c.prev().length?$("#cv-scheme-step-backward").removeClass("is-disabled"):$("#cv-scheme-step-backward").addClass("is-disabled")}};s(),$("#cv-scheme-step-backward").on("click",function(){if(!$(this).hasClass("is-disabled")){var e=$("#cv-scheme-history"),c=e.find(".active-state").removeClass("active-state"),a=c.prev().addClass("active-state"),s=a.html();s=JSON.parse(s),t(s)}}),$("#cv-scheme-step-forward").on("click",function(){if(!$(this).hasClass("is-disabled")){var e=$("#cv-scheme-history"),c=e.find(".active-state").removeClass("active-state"),a=c.next().addClass("active-state"),s=a.html();s=JSON.parse(s),t(s)}}),$(".cv-load-scheme").on("click",function(){var e=$(this),c=e.data("scheme");a(c),setTimeout(s,100)});var n=$("#cv-scheme-preview"),i=$(".cv-color-picker"),o=250;i.each(function(){var c=$(this);c.iris({mode:"hsl",hide:!1,change:function(e,c){var a=$(e.target),s=a.data("section"),t=a.data("update"),r=c.color.toString();a.parent().css("background-color",r),window[t](n,s,r)}}),c.wrap('<div class="cv-color-picker-display"></div>'),c.parent().next().wrap('<div class="cv-picker-wrap" style="display:none;"></div>'),c.parent().css("background-color",c.val());var a=c.parent().next(),t=c.data("section-name")+" "+c.data("option-name");a.prepend("<strong>"+t+"</strong>"),c.on("click",function(e){if(e.stopPropagation(),c.toggleClass("cv-picker-open"),c.hasClass("cv-picker-open")){c.data("former-color",c.val());var s="rtl"===$("html").attr("dir")?!0:!1,t=$("#cv-scheme-preview"),r=parseInt(t.outerWidth()),n=parseInt(t.offset().left),v=parseInt($(window).width())-(n+r),d=s?v+r:n+r,l=$(window).width()-d,f=s?"right":"left";l>250?a.css(f,d+15+"px").fadeIn(o):a.css(f,"auto").fadeIn(o)}else c.val()!==c.data("former-color")&&c.trigger("change"),c.data("former-color",null),a.fadeOut(o);i.each(function(){var e=$(this);e.hasClass("cv-picker-open")&&!e.is(c)&&(e.val()!==e.data("former-color")&&e.trigger("change"),e.data("former-color",null),e.removeClass("cv-picker-open"),e.parent().next().hide())})}),e.on("click",function(e){e.stopPropagation(),i.each(function(){var e=$(this);e.hasClass("cv-picker-open")&&(e.val()!==e.data("former-color")&&e.trigger("change"),e.data("former-color",null),e.removeClass("cv-picker-open"),e.parent().next().fadeOut(o))})}),c.on("change",function(){s()}),c.iris("color",c.val())}),$("#cv-scheme-tabs").children().on("click",function(){var e=$(this),c=e.data("section");e.addClass("nav-tab-active").siblings().removeClass("nav-tab-active"),$(".cv-section-"+c).show().siblings().hide()})})}(jQuery);